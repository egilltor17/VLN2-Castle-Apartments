{% extends "base.html" %}

{% block content %}
    <link rel="stylesheet" type="text/css" href="/static/css/purchase_review.css">

    <h3>Thank you for purchasing your property with Castle Apartments!</h3>
    <div id="purchase-property-info-container">
        <h4>Your Receipt</h4>
        <div class="box card receipt" id="receipt-container">
            <div id="image-and-date-container">
                <img id="logo-receipt" src="/static/images/logo_receipt.png" alt="Castle Apartments Logo">
                <h6 id="receipt-date"> {{ purchase.date }} </h6>
            </div>

            <h4 id="buyer-heading">Buyer Information</h4>
            <p>Name: {{ purchase.userInfo.first_name }} {{ purchase.userInfo.last_name }} <br>
            SSN: {{ purchase.SSN }} <br>
            Email: {{ purchase.userInfo.email }}<br>
            Address: {{ purchase.paymentInfo.address }}</p>
            <table class="table" id="receipt-table">
                <thead>
                    <tr>
                        <th scope="col">Property</th>
                        <th scope="col">Property Address</th>
                        <th scope="col">Size</th>
                        <th scope="col">Type</th>
                        <th scope="col">Price</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><a href="{% url 'property-details' property.id %}" class="link-to-property"><p> {{ property.name }}</p></a></td>
                        <td>{{ property.address }}</td>
                        <td>{{ property.squareMeters }}m<sup>2</sup></td>
                        <td>{{ property.type }}</td>
                        <td>{{ property.price }} $</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td><b>Total price </b></td>
                        <td>{{ property.price }} $</td>
                    </tr>
                </tbody>
            </table>
            <!-- Hidden until screen size is too small then receipt table is hidden instead -->
            <table class="table" id="mini-receipt-table">
                <tbody>
                    <tr>
                        <td><b>Property name</b></td>
                        <td><a href="{% url 'property-details' property.id %}" class="link-to-property"><p> {{ property.name }}</p></a></td>
                    </tr>
                    <tr>
                        <td><b>Address</b></td>
                        <td>{{ property.address }}</td>
                    </tr>
                    <tr>
                        <td><b>Size</b></td>
                        <td>{{ property.squareMeters }}m<sup>2</sup></td>
                    </tr>
                    <tr>
                        <td><b>Type</b></td>
                        <td>{{ property.type }}</td>
                    </tr>
                    <tr>
                        <td><b>Price</b></td>
                        <td>{{ property.price }} $</td>
                    </tr>
                    <tr>
                        <td id="total-price"><b>Total price</b></td>
                        <td>{{ property.price }} $</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

{% endblock %}